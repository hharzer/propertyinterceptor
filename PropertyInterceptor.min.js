!function(e){function t(){}function r(e){var t=void 0===e.get.value&&e.get.oldGet?e.get.oldGet():e.get.value;return e.get.after.forEach(function(e){t=e(t)}),e.get.value=t}function n(e,t){var r=e.get.value;return e.set.before.forEach(function(e){t=e(t)}),e.get.value=t,t!==r&&e.set.after.forEach(function(e){e(t)}),t}return t.prototype.afterGet=function(e,t,o){var f=Object.getOwnPropertyDescriptor(e,t);f||(f={configurable:!0,enumerable:!0});var a=f.get?f.get():f.value,u=function(r){return u.callback(e,t,r)};if(u.callback=o,f.get&&f.get.after)f.get.after.push(u);else{var c=f.get;f.get=function(){return r(f)},f.get.value=a,f.get.after=[u],f.get.oldGet=c}return f.set||(f.set=function(e){return n(f,e)},f.set.before=[],f.set.after=[]),delete f.value,delete f.writable,Object.defineProperty(e,t,f),e},t.prototype.beforeSet=function(e,t,o){var f=Object.getOwnPropertyDescriptor(e,t);f||(f={configurable:!0,enumerable:!0});var a=f.get?f.get():f.value;if("function"==typeof a)return!1;if(!f.get||!f.get.after){var u=f.get;f.get=function(){return r(f)},f.get.value=a,f.get.after=[],f.get.oldGet=u}f.set||(f.set=function(e){return n(f,e)},f.set.before=[],f.set.after=[]);var c=function(r){return c.callback(e,t,r)};if(c.callback=o,f.set.before)f.set.before.unshift(c);else{var l=f.set;f.set=function(e){return n(f,e)},f.set.before=[c],f.set.after=[],f.set.oldset=l}return delete f.value,delete f.writable,Object.defineProperty(e,t,f),e},t.prototype.afterSet=function(e,t,o){var f=Object.getOwnPropertyDescriptor(e,t);f||(f={configurable:!0,enumerable:!0});var a=f.get?f.get():f.value;if("function"==typeof a)return!1;if(!f.get||!f.get.after){var u=f.get;f.get=function(){return r(f)},f.get.value=a,f.get.after=[],f.get.oldGet=u}f.set||(f.set=function(e){return n(f,e)},f.set.before=[],f.set.after=[]);var c=function(r){c.callback(e,t,r)};if(c.callback=o,f.set.after)f.set.after.push(c);else{var l=f.set;f.set=function(e){return n(f,e)},f.set.before=[],f.set.after=[c],f.set.oldset=l}return delete f.value,delete f.writable,Object.defineProperty(e,t,f),e},e.Object=Object,e.Object.intercept={afterGet:t.prototype.afterGet,beforeSet:t.prototype.beforeSet,afterSet:t.prototype.afterSet},e.PropertyInterceptor=t,e.PropertyInterceptor}("undefined"!=typeof exports&&"undefined"!=typeof global?global:window);